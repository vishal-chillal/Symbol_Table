
1 %macro add2 2 	 	 	 	
2 	mov eax, %1 	 	 	 	
3 	mov ebx, %2 	 	 	 	
4 	add eax, ebx 	 	 	 	
5 %endm 	 	 	 	
7 %macro add3 3 	 	 	 	
8 	add2 %1, %2 	 	 	 	
9 	add2 eax, %3 	 	 	 	
10 %endm 	 	 	 	
12 section .data 	 	 	 	
13 	msg db "The sum is: %d", 10, 0 	 	 	 	00000000 5468652073756D2069733A2025640A00
15 section .text 	 	 	 	
16 	global main 	 	 	 	
17 	extern printf 	 	 	 	
19 main: 	 	 	 	
20 	add3 10 , 20 , 30 	 	 	 	
22 	push eax 	 	 	 	
23 	push msg 	 	 	 	
24 	call printf 	 	 	 	
25 	add esp, 8 	 	 	 	
27 	ret	 	 	 	 	